<!--
   Permission is granted to copy, distribute and/or modify this document
   under the terms of the GNU Free Documentation License, Version 1.3
   or any later version published by the Free Software Foundation;
   with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
   A copy of the license is included in the folder entitled "GNU
   Free Documentation License".
   Scenario 8: Total default with mining.
   -->
<html>
   <head></head>
   <body>
      <script type="text/javascript" src="web3.min.js"></script>
      <script type='text/javascript'>
         var Web3 = require('web3');
         if (typeof web3 !== 'undefined') {
           web3 = new Web3(web3.currentProvider);
         } else {
           web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
         }
         web3.eth.defaultAccount = web3.eth.accounts[0];
         // New token contract:
         var betaContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_amount","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"burnTokenAmount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"tokenManagerContractToSet","type":"address"}],"name":"setTokenManagerContractAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"turnHoldingRequirementOn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"turnHoldingRequirementOff","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"devAddress","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"},{"name":"addressToRemoveFrom","type":"address"}],"name":"removeAmountFromAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"devVestedAddress","type":"address"},{"name":"amount","type":"uint256"}],"name":"importDevBalanceThroughConverter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"burnedAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newHoldingChecker","type":"address"}],"name":"changeHoldingCheckerToAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"initialTokenManagerSet","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"addTestBalance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"needsHoldingCheck","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"permissableAddress","type":"address"}],"name":"setPermissableAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"},{"name":"loser","type":"address"},{"name":"recip","type":"address"}],"name":"moveAmountFromAddressToAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"mineableAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"recip","type":"address"},{"name":"amount","type":"uint256"}],"name":"importBalanceThroughConverter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"holdingManagerContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"addressToDePermission","type":"address"}],"name":"killPermitImportBalanceForAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"converter","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"},{"name":"addressToAddTo","type":"address"}],"name":"addBalanceToAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"convertedAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"permittedBalanceImportMap","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"increaseMineableAmount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newAddress","type":"address"},{"indexed":false,"name":"authorizer","type":"address"}],"name":"AuthorizedPrivsForAddressUsingAuthorizer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newAddress","type":"address"},{"indexed":false,"name":"authorizer","type":"address"}],"name":"KilledPrivsForAddressUsingAuthorizer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newAddress","type":"address"},{"indexed":false,"name":"authorizer","type":"address"}],"name":"ChangedHoldingCheckerToAddressUsingAuthorizer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"authorizer","type":"address"}],"name":"TurnedHoldingRequirementOnUsingAuthorizer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"authorizer","type":"address"}],"name":"TurnedHoldingRequirementOffUsingAuthorizer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"recipient","type":"address"},{"indexed":false,"name":"authorizer","type":"address"}],"name":"AddedAmountToAddressUsingAuthorizer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"addressRemovedFrom","type":"address"},{"indexed":false,"name":"authorizer","type":"address"}],"name":"RemovedAmountFromAddressUsingAuthorizer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"loser","type":"address"},{"indexed":false,"name":"recip","type":"address"}],"name":"MovedAmountFromAddressToAddress","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"sender","type":"address"}],"name":"BurnedAmountForAddress","type":"event"}]);
         var beta = betaContract.new(
         {
         from: web3.eth.accounts[0], 
         data: '0x606060405234156200001057600080fd5b60408051908101604052600481527f626574610000000000000000000000000000000000000000000000000000000060208201526000908051620000599291602001906200014f565b5060408051908101604052600481527f424554410000000000000000000000000000000000000000000000000000000060208201526001908051620000a39291602001906200014f565b506002805460ff19166012179055600480547440e8f3ff9118b6ecdd4c89051cf3515c543bb36a0061010060a860020a0319909116178082556101009004600160a060020a031660009081526009602052604090208054683635c9adc5dea0000090810190915560038054909101905560058054600160a060020a0319169055805460a860020a60ff0219167501000000000000000000000000000000000000000000179055620001f4565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200019257805160ff1916838001178555620001c2565b82800160010185558215620001c2579182015b82811115620001c2578251825591602001919060010190620001a5565b50620001d0929150620001d4565b5090565b620001f191905b80821115620001d05760008155600101620001db565b90565b6112a880620002046000396000f30060606040526004361061018a5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166306fdde03811461018f578063095ea7b314610219578063149c62731461024f57806318160ddd1461026757806323b872dd1461028c57806330efd855146102b4578063313ce567146102d357806332b63be4146102fc578063396975d51461030f5780633ad10ef61461032257806345bff339146103515780634fb24bc71461037357806350e15fdd146103955780635fe25560146103a85780636d91c5f7146103c757806370a08231146103da5780637b5c6bf7146103f95780637d59d8a71461040f5780638149a44414610422578063897b9dcc14610441578063920da53c1461046957806395bb38161461047c57806395d89b411461049e578063968f0179146104b1578063a9059cbb146104c4578063b7d68c2c146104e6578063bd38837b14610505578063bdc96fad14610518578063ca5d337a1461053a578063db0ca1051461054d578063fec746141461056c575b600080fd5b341561019a57600080fd5b6101a2610582565b60405160208082528190810183818151815260200191508051906020019080838360005b838110156101de5780820151838201526020016101c6565b50505050905090810190601f16801561020b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561022457600080fd5b61023b600160a060020a0360043516602435610620565b604051901515815260200160405180910390f35b341561025a57600080fd5b61026560043561068d565b005b341561027257600080fd5b61027a6107f5565b60405190815260200160405180910390f35b341561029757600080fd5b61023b600160a060020a03600435811690602435166044356107fb565b34156102bf57600080fd5b610265600160a060020a036004351661099f565b34156102de57600080fd5b6102e6610a04565b60405160ff909116815260200160405180910390f35b341561030757600080fd5b610265610a0d565b341561031a57600080fd5b610265610aa5565b341561032d57600080fd5b610335610b24565b604051600160a060020a03909116815260200160405180910390f35b341561035c57600080fd5b610265600435600160a060020a0360243516610b38565b341561037e57600080fd5b610265600160a060020a0360043516602435610c07565b34156103a057600080fd5b61027a610c48565b34156103b357600080fd5b610265600160a060020a0360043516610c4e565b34156103d257600080fd5b61023b610ce0565b34156103e557600080fd5b61027a600160a060020a0360043516610ce9565b341561040457600080fd5b610265600435610d04565b341561041a57600080fd5b61023b610d2d565b341561042d57600080fd5b610265600160a060020a0360043516610d4f565b341561044c57600080fd5b610265600435600160a060020a0360243581169060443516610ddf565b341561047457600080fd5b61027a610eac565b341561048757600080fd5b610265600160a060020a0360043516602435610eb2565b34156104a957600080fd5b6101a2610f03565b34156104bc57600080fd5b610335610f6e565b34156104cf57600080fd5b61023b600160a060020a0360043516602435610f7d565b34156104f157600080fd5b610265600160a060020a0360043516611108565b341561051057600080fd5b610335611195565b341561052357600080fd5b610265600435600160a060020a03602435166111a4565b341561054557600080fd5b61027a611256565b341561055857600080fd5b61023b600160a060020a036004351661125c565b341561057757600080fd5b610265600435611271565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156106185780601f106105ed57610100808354040283529160200191610618565b820191906000526020600020905b8154815290600101906020018083116105fb57829003601f168201915b505050505081565b600160a060020a033381166000818152600c6020908152604080832094871680845294909152808220859055909291907f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259085905190815260200160405180910390a35060015b92915050565b6004547501000000000000000000000000000000000000000000900460ff161561075057600b54600160a060020a0316637b56b3b882336000604051602001526040517c010000000000000000000000000000000000000000000000000000000063ffffffff85160281526004810192909252600160a060020a03166024820152604401602060405180830381600087803b151561072a57600080fd5b6102c65a03f1151561073b57600080fd5b50505060405180511515905061075057600080fd5b600160a060020a03331660009081526009602052604090205481111561077557600080fd5b33600160a060020a0381166000908152600960205260409081902080548490039055600380548490039055600880548401905560078054840190557f37d1a8215fdbdd8e0d7d8e2738a59b9b06168981cec75212ed1f102eb8d00a5991839151918252600160a060020a031660208201526040908101905180910390a150565b60035481565b600160a060020a03831660009081526009602052604081205482901080159061084b5750600160a060020a038085166000908152600c602090815260408083203390941683529290522054829010155b80156108575750600082115b801561087c5750600160a060020a038316600090815260096020526040902054828101115b15610994576004547501000000000000000000000000000000000000000000900460ff161561094457600b54600160a060020a0316637b56b3b883336000604051602001526040517c010000000000000000000000000000000000000000000000000000000063ffffffff85160281526004810192909252600160a060020a03166024820152604401602060405180830381600087803b151561091e57600080fd5b6102c65a03f1151561092f57600080fd5b50505060405180511515905061094457600080fd5b50600160a060020a03808416600090815260096020818152604080842080548790039055600c82528084203386168552825280842080548790039055938616835252208054820190556001610998565b5060005b9392505050565b60045460ff161515610a0157600b805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383169081179091556000908152600a60205260409020805460ff1990811660019081179092556004805490911690911790555b50565b60025460ff1681565b600160a060020a0333166000908152600a602052604090205460ff1615610aa3576004805475ff000000000000000000000000000000000000000000191675010000000000000000000000000000000000000000001790557fd9163bb9a6cedcebaceb6e7de29266bb885b8857248a7b62c60b160d3bcbd61333604051600160a060020a03909116815260200160405180910390a15b565b600160a060020a0333166000908152600a602052604090205460ff1615610aa3576004805475ff000000000000000000000000000000000000000000191690557f8812c490377130528286516043a8124d8365671b53843f9a15fa2e70c23a8a8c33604051600160a060020a03909116815260200160405180910390a1565b6004546101009004600160a060020a031681565b600160a060020a0333166000908152600a602052604090205460ff1615610c0357600160a060020a038116600090815260096020526040902054821115610b7e57600080fd5b600160a060020a038116600090815260096020526040908190208054849003905560038054849003905560078054840190557fe126c0496b2f19bbdeecdff8e8871b077d918e0350c3cc233909c8e96b09fe609083908390339051928352600160a060020a039182166020840152166040808301919091526060909101905180910390a15b5050565b60055433600160a060020a0390811691161415610c0357600160a060020a038216600090815260096020526040902080548201905560038054820190555050565b60085481565b600160a060020a0333166000908152600a602052604090205460ff1615610a0157600b805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790557f1fa4e7cc268eae9019fd403635f6cf7f75c2cbc04d259f0b09b651d066705c078133604051600160a060020a039283168152911660208201526040908101905180910390a150565b60045460ff1681565b600160a060020a031660009081526009602052604090205490565b600160a060020a0333166000908152600960205260409020805482019055600380549091019055565b6004547501000000000000000000000000000000000000000000900460ff1681565b600160a060020a0333166000908152600a602052604090205460ff1615610a0157600160a060020a0381166000908152600a602052604090819020805460ff191660011790557f2a3622237aee797b2946fdca1d03f9f6b7a111f36c988584a69aea2ea464f30e908290339051600160a060020a039283168152911660208201526040908101905180910390a150565b600160a060020a0333166000908152600a602052604090205460ff1615610ea757600160a060020a038216600090815260096020526040902054831115610e2557600080fd5b600160a060020a038083166000908152600960205260408082208054879003905591831681528190208054850190557f65de1d45ea2855581c4776cff7089c7dba98d69ab0b7e77970a8b139f2e5140b9084908490849051928352600160a060020a039182166020840152166040808301919091526060909101905180910390a15b505050565b60075481565b60055433600160a060020a0390811691161415610c0357600160a060020a03821660009081526009602052604090208054820190556003805482019055600680548201905560078054820190555050565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156106185780601f106105ed57610100808354040283529160200191610618565b600b54600160a060020a031681565b600160a060020a033316600090815260096020526040812054829010801590610fa65750600082115b8015610fcb5750600160a060020a038316600090815260096020526040902054828101115b15611100576004547501000000000000000000000000000000000000000000900460ff161561109357600b54600160a060020a0316637b56b3b883336000604051602001526040517c010000000000000000000000000000000000000000000000000000000063ffffffff85160281526004810192909252600160a060020a03166024820152604401602060405180830381600087803b151561106d57600080fd5b6102c65a03f1151561107e57600080fd5b50505060405180511515905061109357600080fd5b600160a060020a033381166000818152600960205260408082208054879003905592861680825290839020805486019055917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9085905190815260200160405180910390a3506001610687565b506000610687565b600160a060020a0333166000908152600a602052604090205460ff1615610a0157600160a060020a0381166000908152600a602052604090819020805460ff191690557f010970f3bd39b910480f9efeaae7d0a0d77310e4e5e65d3bab5ddb4e83b322bf908290339051600160a060020a039283168152911660208201526040908101905180910390a150565b600554600160a060020a031681565b600160a060020a0333166000908152600a602052604090205460ff1615610c0357600754829010610c0357600780548390039055600160a060020a0381166000908152600960205260409081902080548401905560038054840190557ff2e308436940a25ca21154cd177dbe22147fe6f1c21d703f1a19dbef4e33b95f9083908390339051928352600160a060020a039182166020840152166040808301919091526060909101905180910390a15050565b60065481565b600a6020526000908152604090205460ff1681565b6007805490910190555600a165627a7a72305820e26048d49be42b54fa51b19b23d6e7afe8df3fbe64b38e4548819b3719afc77b0029', 
         gas: '4700000'
            }, function (e, mainContract) {
             if (typeof mainContract.address !== 'undefined') {
                  console.log('New token contract mined, address: ' + mainContract.address + ' tx: ' + mainContract.transactionHash);
         // Token manager contract:
         var tokenmanager1Contract = web3.eth.contract([{"constant":true,"inputs":[],"name":"rewardFactorBorrower","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"newTokenAddressSet","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"REQUESTED_STATUS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"HOLD_DENOM","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"lP2","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalInHolding","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newTokenAddy","type":"address"}],"name":"setNewTokenAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"rewardFactorLender","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"REQUEST_CANCELED_BY_BORROWER_STATUS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"newTokenAddress","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"turnHoldingCheckerOn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"addressToDePermission","type":"address"}],"name":"dePermissionAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newRewardFactorBorrower","type":"uint256"},{"name":"newRewardFactorLender","type":"uint256"}],"name":"changeRewardFactor","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"addressToPermission","type":"address"}],"name":"permissionAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newHoldingChecker","type":"address"}],"name":"changeHoldingCheckerToAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"turnHoldingCheckerOff","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"lP1","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"index","type":"uint256"}],"name":"cancelLoanRequestAtIndexByLender","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"lender","type":"address"},{"name":"amount","type":"uint256"},{"name":"length","type":"uint256"},{"name":"interest","type":"uint256"},{"name":"willMine","type":"bool"},{"name":"loanMessage","type":"string"}],"name":"requestLoan","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"},{"name":"addressToCheck","type":"address"}],"name":"holdingCheckForAddress","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"HOLD_NUM","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"num","type":"uint256"},{"name":"denom","type":"uint256"}],"name":"setHoldNumAndDenom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"BORROWER_PAID_LATE_STATUS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"COMPLETION_STATUS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"index","type":"uint256"}],"name":"cancelLoanRequestAtIndexByBorrower","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"ACTIVE_STATUS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"REQUEST_CANCELED_BY_LENDER_STATUS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"},{"name":"index","type":"uint256"}],"name":"payAmountForLoanAtIndex","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"holdingAmounts","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"permissionsContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"index","type":"uint256"}],"name":"requestRewardForLoanAtIndex","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"ACTIVE_LOAN_CANCELED_BY_LENDER_STATUS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"index","type":"uint256"}],"name":"attemptBeginLoanAtIndex","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"HOLDING_STATUS","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"loans","outputs":[{"name":"borrower","type":"address"},{"name":"lender","type":"address"},{"name":"startBlock","type":"uint256"},{"name":"amount","type":"uint256"},{"name":"paidBackBlock","type":"uint256"},{"name":"status","type":"uint256"},{"name":"amountPaidBackSoFar","type":"uint256"},{"name":"loanLength","type":"uint256"},{"name":"borrowerReward","type":"uint256"},{"name":"lenderReward","type":"uint256"},{"name":"interest","type":"uint256"},{"name":"willMine","type":"bool"},{"name":"borrowerPaidLate","type":"bool"},{"name":"message","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"totalRewardsEarned","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"index","type":"uint256"}],"name":"cancelActiveLoanAtIndex","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"advanceBlock","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"}],"name":"LoanRequestedAtIndex","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"}],"name":"LoanCanceledByBorrowerAtIndex","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"}],"name":"LoanCanceledByLenderAtIndex","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"}],"name":"LoanBegunAtIndex","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"PaidBackPortionForLoanAtIndex","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"LoanWentIntoHoldingAtIndex","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"LoanPaidLateAtIndex","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"},{"indexed":false,"name":"claimer","type":"address"}],"name":"RewardForLoanIndexClaimedByAddress","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"","type":"address"}],"name":"AddressAttemptedToBreakHolding","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"rewardFactorBorrower","type":"uint256"},{"indexed":false,"name":"rewardFactorLender","type":"uint256"},{"indexed":false,"name":"authorizer","type":"address"}],"name":"ChangedRewardFactorUsingLP","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newConverter","type":"address"},{"indexed":false,"name":"LP","type":"address"}],"name":"ChangedConverterUsingLP","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"num","type":"uint256"},{"indexed":false,"name":"denom","type":"uint256"},{"indexed":false,"name":"lP","type":"address"}],"name":"ChangedHoldingPeriodLengthUsingParams","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"}],"name":"LoanRequestCanceledByLenderAtIndex","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"index","type":"uint256"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"NonMiningLoanCompletedAtIndex","type":"event"}]);
         var tokenmanager1 = tokenmanager1Contract.new(
         {
         from: web3.eth.accounts[0], 
         data: '0x6060604052341561000f57600080fd5b600160008190556002808255600390819055600490819055600590819055600680556007805560089081905563037da8c9600c556301e13380600d55600a8054600160a060020a031990811673bb505bd0667b0e3a594dc0b426a26dc4ad5e637517909155815481167330667104ea64ad9b8217b0baf3023eb19533c92d179091556009805490911673ddd83d30b1248fc5d697cade816867f9a6399e071790556012819055601355612105806100c76000396000f3006060604052600436106101be5763ffffffff60e060020a600035041663041fc29881146101c3578063064ffa5a146101e857806314a6a1a51461020f5780631613147314610222578063235c06421461023557806325e921e0146102645780632cf033a0146102775780632df620761461029857806335b1114a146102ab57806337689c8d146102be5780633a59a618146102d1578063415b8ba5146102e457806351aa451114610303578063586f681e1461031c5780635fe255601461033b578063649275ac1461035a578063651a14d91461036d5780636e6d83d21461038057806377d02fda146103965780637b56b3b8146104085780637cf96eee1461042a578063856398151461043d578063956dda7f146104565780639f7ff38114610469578063b686c9831461047c578063ba70d54a14610492578063c32e16e7146104a5578063c98c6e08146104b8578063ca3100fd146104d1578063cccb7c75146104f0578063d5722c4b14610503578063d598cae514610519578063d65995ed1461052c578063da03980514610542578063e1ec3c6814610555578063e4f24cb01461068a578063e6f8298c146106a9578063e9f5b3c4146106bf575b600080fd5b34156101ce57600080fd5b6101d66106d2565b60405190815260200160405180910390f35b34156101f357600080fd5b6101fb6106d8565b604051901515815260200160405180910390f35b341561021a57600080fd5b6101d66106f9565b341561022d57600080fd5b6101d66106ff565b341561024057600080fd5b610248610705565b604051600160a060020a03909116815260200160405180910390f35b341561026f57600080fd5b6101d6610714565b341561028257600080fd5b610296600160a060020a036004351661071a565b005b34156102a357600080fd5b6101d66107a1565b34156102b657600080fd5b6101d66107a7565b34156102c957600080fd5b6102486107ad565b34156102dc57600080fd5b6102966107bc565b34156102ef57600080fd5b610296600160a060020a036004351661081f565b341561030e57600080fd5b610296600435602435610893565b341561032757600080fd5b610296600160a060020a03600435166108ff565b341561034657600080fd5b610296600160a060020a036004351661095c565b341561036557600080fd5b6102966109b9565b341561037857600080fd5b610248610a05565b341561038b57600080fd5b610296600435610a14565b34156103a157600080fd5b6101d660048035600160a060020a0316906024803591604435916064359160843515159160c49060a43590810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650610ad895505050505050565b341561041357600080fd5b6101fb600435600160a060020a0360243516610d56565b341561043557600080fd5b6101d6610e42565b341561044857600080fd5b610296600435602435610e48565b341561046157600080fd5b6101d6610eb3565b341561047457600080fd5b6101d6610eb9565b341561048757600080fd5b610296600435610ebf565b341561049d57600080fd5b6101d6610f80565b34156104b057600080fd5b6101d6610f86565b34156104c357600080fd5b610296600435602435610f8c565b34156104dc57600080fd5b6101d6600160a060020a0360043516611446565b34156104fb57600080fd5b610248611458565b341561050e57600080fd5b6101fb600435611467565b341561052457600080fd5b6101d661169b565b341561053757600080fd5b6101fb6004356116a1565b341561054d57600080fd5b6101d6611865565b341561056057600080fd5b61056b60043561186b565b604051808f600160a060020a0316600160a060020a031681526020018e600160a060020a0316600160a060020a031681526020018d81526020018c81526020018b81526020018a815260200189815260200188815260200187815260200186815260200185815260200184151515158152602001831515151581526020018060200182810382528381815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561066e5780601f106106435761010080835404028352916020019161066e565b820191906000526020600020905b81548152906001019060200180831161065157829003601f168201915b50509f5050505050505050505050505050505060405180910390f35b341561069557600080fd5b6101d6600160a060020a03600435166118f8565b34156106b457600080fd5b61029660043561190a565b34156106ca57600080fd5b61029661081d565b600c5481565b600a5474010000000000000000000000000000000000000000900460ff1681565b60005481565b60135481565b600954600160a060020a031681565b600e5481565b600a5474010000000000000000000000000000000000000000900460ff16151561079e57600a805474ff0000000000000000000000000000000000000000191674010000000000000000000000000000000000000000179055600b8054600160a060020a03831673ffffffffffffffffffffffffffffffffffffffff199091161790555b50565b600d5481565b60035481565b600b54600160a060020a031681565b6107c46119ce565b1561081d57600b54600160a060020a03166332b63be46040518163ffffffff1660e060020a028152600401600060405180830381600087803b151561080857600080fd5b6102c65a03f1151561081957600080fd5b5050505b565b6108276119ce565b1561079e57600b54600160a060020a031663b7d68c2c8260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401600060405180830381600087803b151561087c57600080fd5b6102c65a03f1151561088d57600080fd5b50505050565b61089b6119ce565b156108fb57600c829055600d8190557f93bd866b08323e00f707c2299a6467863b8ec228016a2a4f9f0637c160b500a08282336040519283526020830191909152600160a060020a03166040808301919091526060909101905180910390a15b5050565b6109076119ce565b1561079e57600b54600160a060020a0316638149a4448260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401600060405180830381600087803b151561087c57600080fd5b6109646119ce565b1561079e57600b54600160a060020a0316635fe255608260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401600060405180830381600087803b151561087c57600080fd5b6109c16119ce565b1561081d57600b54600160a060020a031663396975d56040518163ffffffff1660e060020a028152600401600060405180830381600087803b151561080857600080fd5b600854600160a060020a031681565b600054600f805483908110610a2557fe5b90600052602060002090600d020160050154148015610a77575033600160a060020a0316600f82815481101515610a5857fe5b600091825260209091206001600d909202010154600160a060020a0316145b1561079e57600454600f805483908110610a8d57fe5b90600052602060002090600d0201600501819055507facd4a5d7edf598621056e29f584a24187489661c79475da8e8a885e3d97412608160405190815260200160405180910390a150565b6000610ae2611e9a565b87600160a060020a031633600160a060020a03161415610b0157600080fd5b861580610b0e5750600486105b80610b1c5750630d6d26b786115b15610b2657600080fd5b6a52b7d2dcc80cd2e4000000871180610b4957506a52b7d2dcc80cd2e400000085115b15610b5357600080fd5b6101c06040519081016040528033600160a060020a0316815260200189600160a060020a031681526020014381526020018881526020016000815260200160005481526020016000815260200187815260200160008152602001600081526020018681526020018515158152602001600015158152602001848152509050600f8054806001018281610be59190611f25565b600092835260209092208391600d02018151815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0391909116178155602082015160018201805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905560408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e082015181600701556101008201518160080155610120820151816009015561014082015181600a0155610160820151600b8201805460ff1916911515919091179055610180820151600b820180549115156101000261ff00199092169190911790556101a082015181600c01908051610d04929160200190611f51565b5050600f547f329ae0d6a028c98491fa343fea612add4805202131d3c03c8850c2d03a43ca84925060001901905060405190815260200160405180910390a15050600f54600019019695505050505050565b600160a060020a0380821660009081526011602052604080822054600b549293849391929116906370a082319086908590516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b1515610dca57600080fd5b6102c65a03f11515610ddb57600080fd5b5050506040518051905003905080841115610e36577f9e2ada2f5724bf6b960141fb059ede7602cebf9a328670dc4cf499fb75cb075783604051600160a060020a03909116815260200160405180910390a160009150610e3b565b600191505b5092915050565b60125481565b610e506119ce565b156108fb57601282905560138190557f75ddf2663e98a0871935dec0b5ccc9f3e798c51ee40999f21d1d0ac31560e9018282336040519283526020830191909152600160a060020a03166040808301919091526060909101905180910390a15050565b60065481565b60075481565b600054600f805483908110610ed057fe5b90600052602060002090600d020160050154148015610f1f575033600160a060020a0316600f82815481101515610f0357fe5b60009182526020909120600d9091020154600160a060020a0316145b1561079e57600354600f805483908110610f3557fe5b90600052602060002090600d0201600501819055507f7f931ace8a19aa070de3541d954a82d6147d00de7d9c38bee30868f8e99be56b8160405190815260200160405180910390a150565b60015481565b60045481565b600154600f805483908110610f9d57fe5b90600052602060002090600d020160050154148015610fe65750600f805482908110610fc557fe5b60009182526020909120600d909102015433600160a060020a039081169116145b8015610ff25750600082115b156108fb576110018233610d56565b151561100c57600080fd5b600b54600f8054600160a060020a039092169163897b9dcc9185913391908690811061103457fe5b600091825260209091206001600d909202010154600160a060020a031660405160e060020a63ffffffff86160281526004810193909352600160a060020a039182166024840152166044820152606401600060405180830381600087803b151561109d57600080fd5b6102c65a03f115156110ae57600080fd5b50505081600f828154811015156110c157fe5b600091825260209091206006600d909202010180549091019055600f8054829081106110e957fe5b90600052602060002090600d0201600a0154600f8281548110151561110a57fe5b90600052602060002090600d02016003015401600f8281548110151561112c57fe5b90600052602060002090600d0201600601541015156114085743600f8281548110151561115557fe5b600091825260209091206004600d909202010155600f80548290811061117757fe5b60009182526020909120600b600d90920201015460ff1680156111ea57506111ea600f828154811015156111a757fe5b90600052602060002090600d020160030154600f838154811015156111c857fe5b600091825260209091206001600d909202010154600160a060020a0316610d56565b156112e557600254600f80548390811061120057fe5b600091825260209091206005600d909202010155600f80548290811061122257fe5b90600052602060002090600d02016003015460116000600f8481548110151561124757fe5b600091825260208083206001600d909302019190910154600160a060020a03168352820192909252604001902080549091019055600f80548290811061128957fe5b600091825260209091206003600d909202010154600e805490910190557f1b5b1b365eb13a355d4df152d3f305e4b2f9e0a7ffeabd62a340a0b621a51bb2818360405191825260208201526040908101905180910390a1611346565b600754600f8054839081106112f657fe5b90600052602060002090600d0201600501819055507f45c094db5d2df9a8875a4dda250d5598d7aa3a5bf4586c9345b1f0231cda3970818360405191825260208201526040908101905180910390a15b600f80548290811061135457fe5b90600052602060002090600d020160070154600f8281548110151561137557fe5b90600052602060002090600d02016002015401431115611403576001600f828154811015156113a057fe5b90600052602060002090600d0201600b0160016101000a81548160ff0219169083151502179055507fa21076cf0a1dbb39af85a6c9123a8a580cf50b5805d381ad37dedc331ee3bf10818360405191825260208201526040908101905180910390a15b6108fb565b7ff51c67dd3bb26dd91dfbaeec2c0c4efbc939ce34eab463b948990aeb2d670b4f818360405191825260208201526040908101905180910390a15050565b60116020526000908152604090205481565b600a54600160a060020a031681565b600080600254600f8481548110151561147c57fe5b90600052602060002090600d0201600501541480156114fc5750600f8054849081106114a457fe5b60009182526020909120600d909102015433600160a060020a03908116911614806114fc5750600f8054849081106114d857fe5b600091825260209091206001600d90920201015433600160a060020a039081169116145b1561169057601354601254600f80548690811061151557fe5b90600052602060002090600d020160020154600f8681548110151561153657fe5b90600052602060002090600d020160040154030281151561155357fe5b04600f8481548110151561156357fe5b90600052602060002090600d020160040154019050804310151561169057600754600f80548590811061159257fe5b90600052602060002090600d0201600501819055506115b083611a54565b7f117f5a3a0b8d5fd13a1e9534e93382487c9e0f33526c8339d94b898b3c894f108333604051918252600160a060020a031660208201526040908101905180910390a1600f80548490811061160157fe5b90600052602060002090600d02016003015460116000600f8681548110151561162657fe5b600091825260208083206001600d909302019190910154600160a060020a0316835282019290925260400190208054919091039055600f80548490811061166957fe5b600091825260209091206003600d909202010154600e805491909103905560019150611695565b600091505b50919050565b60055481565b60008054600f8054849081106116b357fe5b90600052602060002090600d0201600501541480156116ff5750600f8054839081106116db57fe5b600091825260209091206001600d90920201015433600160a060020a039081169116145b1561185c5761172e600f8381548110151561171657fe5b90600052602060002090600d02016003015433610d56565b151561173c57506000611860565b600154600f80548490811061174d57fe5b600091825260209091206005600d909202010155600b54600f8054600160a060020a039092169163897b9dcc91908590811061178557fe5b90600052602060002090600d02016003015433600f868154811015156117a757fe5b60009182526020909120600d9091020154600160a060020a031660405160e060020a63ffffffff86160281526004810193909352600160a060020a039182166024840152166044820152606401600060405180830381600087803b151561180d57600080fd5b6102c65a03f1151561181e57600080fd5b5050507f2941d6c779233f2de8208db3df35620cd360a367122a3e3c1f40c353d9eba69b8260405190815260200160405180910390a1506001611860565b5060005b919050565b60025481565b600f80548290811061187957fe5b60009182526020909120600d9091020180546001820154600283015460038401546004850154600586015460068701546007880154600889015460098a0154600a8b0154600b8c0154600160a060020a039b8c169d509a9099169a979996989597949693959294919390929160ff8083169261010090041690600c018e565b60106020526000908152604090205481565b600154600f80548390811061191b57fe5b90600052602060002090600d02016005015414801561196d575033600160a060020a0316600f8281548110151561194e57fe5b600091825260209091206001600d909202010154600160a060020a0316145b1561079e57600554600f80548390811061198357fe5b90600052602060002090600d0201600501819055507f36407e766a58ca181b915b5f93db227ab6b39f94ba57528a6895430dab339d868160405190815260200160405180910390a150565b60006119d8611e67565b15611a4d57600a54600160a060020a0316637c51fb986000604051602001526040518163ffffffff1660e060020a028152600401602060405180830381600087803b1515611a2557600080fd5b6102c65a03f11515611a3657600080fd5b5050506040518051905015611a4d57506001611a51565b5060005b90565b6000806000600f84815481101515611a6857fe5b90600052602060002090600d020160020154600f85815481101515611a8957fe5b90600052602060002090600d020160040154039250600d54600f85815481101515611ab057fe5b90600052602060002090600d0201600301548402811515611acd57fe5b600b54600f8054939092049450600160a060020a03169163bdc96fad91859188908110611af657fe5b600091825260209091206001600d909202010154600160a060020a031660405160e060020a63ffffffff85160281526004810192909252600160a060020a03166024820152604401600060405180830381600087803b1515611b5757600080fd5b6102c65a03f11515611b6857600080fd5b5050508160106000600f87815481101515611b7f57fe5b600091825260208083206001600d909302019190910154600160a060020a03168352820192909252604001902080549091019055600f805483919086908110611bc457fe5b600091825260209091206009600d909202010180549091019055600c54600f805486908110611bef57fe5b90600052602060002090600d0201600301548402811515611c0c57fe5b049050600f84815481101515611c1e57fe5b90600052602060002090600d0201600b0160019054906101000a900460ff161515611d5157600b54600f8054600160a060020a039092169163bdc96fad91849188908110611c6857fe5b60009182526020909120600d9091020154600160a060020a031660405160e060020a63ffffffff85160281526004810192909252600160a060020a03166024820152604401600060405180830381600087803b1515611cc657600080fd5b6102c65a03f11515611cd757600080fd5b50505080600f85815481101515611cea57fe5b90600052602060002090600d0201600801600082825401925050819055508060106000600f87815481101515611d1c57fe5b60009182526020808320600d90920290910154600160a060020a0316835282019290925260400190208054909101905561088d565b600b54600f8054600160a060020a039092169163bdc96fad91849188908110611d7657fe5b600091825260209091206001600d909202010154600160a060020a031660405160e060020a63ffffffff85160281526004810192909252600160a060020a03166024820152604401600060405180830381600087803b1515611dd757600080fd5b6102c65a03f11515611de857600080fd5b50505080600f85815481101515611dfb57fe5b90600052602060002090600d0201600901600082825401925050819055508060106000600f87815481101515611e2d57fe5b600091825260208083206001600d909302019190910154600160a060020a0316835282019290925260400190208054909101905550505050565b60085460009033600160a060020a0390811691161480611e95575060095433600160a060020a039081169116145b905090565b6101c0604051908101604052806000600160a060020a031681526020016000600160a060020a03168152602001600081526020016000815260200160008152602001600081526020016000815260200160008152602001600081526020016000815260200160008152602001600015158152602001600015158152602001611f20611fcf565b905290565b81548183558181151161081957600d0281600d0283600052602060002091820191016108199190611fe1565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611f9257805160ff1916838001178555611fbf565b82800160010185558215611fbf579182015b82811115611fbf578251825591602001919060010190611fa4565b50611fcb92915061207b565b5090565b60206040519081016040526000815290565b611a5191905b80821115611fcb57805473ffffffffffffffffffffffffffffffffffffffff199081168255600182018054909116905560006002820181905560038201819055600482018190556005820181905560068201819055600782018190556008820181905560098201819055600a8201819055600b8201805461ffff19169055612072600c830182612095565b50600d01611fe7565b611a5191905b80821115611fcb5760008155600101612081565b50805460018160011615610100020316600290046000825580601f106120bb575061079e565b601f01602090049060005260206000209081019061079e919061207b5600a165627a7a72305820d62f5fb27517d4e338251cfda1423faa036e58b22a47b621a24cd8ed98e66ea70029', 
         gas: '4700000'
            }, function (e, managerContract) {
             if (typeof managerContract.address !== 'undefined') {
                  console.log('Token manager contract mined, address: ' + managerContract.address + ' tx: ' + managerContract.transactionHash);
                  console.log('SCENARIO 8: TOTAL DEFAULT WITH MINING')
                  var index = 0;
                  var gasAmount = 290000; // You can optimize the amount for each function call, as will be done in the app.       
                  // Set the new token contract address in the token manager.
                  managerContract.setNewTokenAddress(mainContract.address, {
                      from: web3.eth.accounts[0],
                      gas: gasAmount
                  });
                  // Set the token manager contract in new token contract.
                  mainContract.setTokenManagerContractAddress(managerContract.address, {
                      from: web3.eth.accounts[0],
                      gas: gasAmount
                  });
                  // Increase mineable to allow lenders and borrowers to claim rewards. This provides an upper bound on the possible rewards.
                  // For testing, you can set this an arbitrary number. In the final contracts, the mineable amount will be automatically calculated by the converter.
                  var mineableAmount = new web3.BigNumber('100000000000000000000'); // Set mineable amount in 10^-18 tokens
                  mainContract.increaseMineableAmount(mineableAmount, {
                      from: web3.eth.accounts[0],
                      gas: gasAmount
                  });
                  // Specify the loan parameters
                  var borrower = web3.eth.accounts[1];
                  var lender = web3.eth.accounts[0];
                  var amountToBorrow = new web3.BigNumber('100000000000000000000'); // Amount in 10^-18 tokens
                  var loanLengthInBlocks = new web3.BigNumber('15');
                  var interest = new web3.BigNumber('0'); // Interest in 10^-18 tokens
                  var willMine = Boolean(1); // Whether the loan will mine upon completion (see documentation for more info).
                  var loanMessage = 'Will pay you back by next week :)';
                  // You can import additional balance to the lender here:
                  var testBalance = new web3.BigNumber('500000000000000000000');
                  mainContract.addTestBalance(testBalance, {
                      from: lender,
                      gas: gasAmount
                  });
                  var initialLenderBalance = new web3.BigNumber(mainContract.balanceOf.call(lender));
                  console.log('Initial balance of lender: ' + mainContract.balanceOf.call(web3.eth.accounts[0]));
                  // Make the request
                  console.log('Requesting a loan...');
                  managerContract.requestLoan(lender, amountToBorrow, loanLengthInBlocks, interest, willMine, loanMessage, {
                      from: borrower,
                      gas: gasAmount
                  });
                  var loan = managerContract.loans.call(index);
                  console.log('Loan has been requested (status=1): ' + loan);
                  // The lender is starting the loan:
                  console.log('Lender is accepting the loan...');
                  managerContract.attemptBeginLoanAtIndex(index, {
                      from: lender,
                      gas: gasAmount
                  });
                  // You'll notice the status of the loan has now changed when you print it out:
                  loan = managerContract.loans.call(index);
                  console.log('Loan is active (status=2): ' + loan);
                  // The borrower's balance has been increased by the loan amount.
                  console.log('Balance of borrower has been increased to the loan amount: ' + mainContract.balanceOf.call(borrower));
                  // Advance some blocks to simulate time passing.
                  for (i = 0; i < 10; i++) {
                      managerContract.advanceBlock();
                  }
                  console.log('Advancing blocks without repaying...')
                console.log('Lender is attempting to request reward...');
                  managerContract.requestRewardForLoanAtIndex(index, {
                      from: lender,
                      gas: gasAmount
                  });
                  // Loan status remains active.
                  loan = managerContract.loans.call(index);
                  console.log('Loan remains active (status 2) since borrower has yet to repay: ' + loan);
                  console.log('Scenario 8 complete.')
             }
          })
              }
          })
      </script>
   </body>
</html>